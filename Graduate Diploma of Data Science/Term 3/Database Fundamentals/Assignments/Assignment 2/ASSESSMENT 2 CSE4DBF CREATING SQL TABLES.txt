--ASSESSMENT 2 CSE4DBF MICHAEL LE
--CREATE PORTION AND INSERT PORTIONS 

CHORES 
-(INSERTING DATA) (ALMOST DONE)

DROPPING TABLES
DROP TABLE <tablename>;
NOTE: RUNNING THE TABLE WITH THE SAME NAME CAN NOT CREATE A NEW TABLE.


CREATE TABLE ACCOMMODATION(
    ROOMno NUMBER NOT NULL, 
    ACCSTATUS VARCHAR2(8), 
    LEVELno NUMBER NOT NULL,  
    PRIMARY KEY(ROOMno)
);

INSERT INTO ACCOMMODATION VALUES(1,'ACTIVE',1);

CREATE TABLE ACCOMMODATION_TYPE(
    ACCTYPEid VARCHAR2(7) NOT NULL,
    NO_OF_BEDS NUMBER(2),
    ACCTYPENAME VARCHAR2(40) NOT NULL, 
    ACCTYPERATE NUMBER(3) NOT NULL, 
    PRIMARY KEY(ACCTYPEid)
);

INSERT INTO ACCOMMODATION_TYPE VALUES('AC001',8,'deluxe accommodation',100);

CREATE TABLE ACTIVITY_SUPERVISOR(
    SUPERVISORid VARCHAR2(5) NOT NULL,
    PRIMARY KEY (SUPERVISORid)
);

INSERT INTO ACTIVITY_SUPERVISOR VALUES('SP001');


CREATE TABLE ACTIVITY_TABLE(
    ACTIVITYID VARCHAR2(7) NOT NULL,
    CILENTno NUMBER(3) NOT NULL,
    RESno NUMBER(3) NOT NULL,
    Supervisorid VARCHAR2(7) NOT NULL,
    ACTNAME VARCHAR2(50) NOT NULL, 
    RISKLEVEL CHAR(1), 
    ACTRATE NUMBER(3), 
    ACTDESCRIPTION VARCHAR2(200), 
    PRIMARY KEY (ACTIVITYID)
);

INSERT INTO ACTIVITY_TABLE(ACTIVITYID,CILENTNO,RESNO,SUPERVISORID,ACTNAME) VALUES('AT001',1,1,'SP001','MOUNTAINEERING');

CREATE TABLE CILENT(
    CILENTno NUMBER NOT NULL,
    CONDITIONS varchar2(20),
    FULLNAME VARCHAR2(50) NOT NULL,
    PHONE VARCHAR2(13) NOT NULL, 
    MATRIAL_STATUS VARCHAR2(20),
    ANNIVERSARY DATE, 
    SPOUSE VARCHAR2(50), 
    OCCUPATION VARCHAR2(30), 
    EMAIL VARCHAR2(30) NOT NULL, 
    DOB DATE NOT NULL, 
    SEX CHAR, 
    ADDRESS VARCHAR2(50) NOT NULL,  
    PRIMARY KEY(CILENTno,CONDITIONS)
);

INSERT INTO CILENT VALUES(1,'NO CONDITIONS','MICHAEL LE','0412345678','SINGLE','24-MAY-2023','NA','STUDENT','mikele0217@gmail.com','17-FEB-1998','M','NA');

CREATE TABLE CILENT_COND( 
    CILENTno NUMBER NOT NULL,
    CONDITIONS VARCHAR2(25),
    PRIMARY KEY (CILENTno,CONDITIONS)
);

INSERT INTO CILENT_COND VALUES(1,'NO CONDITIONS');

--(ONLY WORKS IN ORACLE APEX)
CREATE TABLE CILENT_USES(
    EQUIPMENTid VARCHAR2(7) NOT NULL,
    ACTIVITYid VARCHAR2(7) NOT NULL,
    PRIMARY KEY (EQUIPMENTid,ACTIVITYid)
);

INSERT INTO CILENT_USES VALUES('EQ002','AT001');


CREATE TABLE EQUIPMENT(
    EQUIPMENTid VARCHAR2(5) NOT NULL,
    EQUIPNAME VARCHAR2(30) NOT NULL, 
    STOCK NUMBER, 
    NEXTINSPECTION DATE,
    PRIMARY KEY(EQUIPMENTid)
);

INSERT INTO EQUIPMENT VALUES('EQ001','AT001',100,'24-JUN-2025');

--(ONLY WORKS IN ORACLE APEX)
CREATE TABLE HAS_ACCOMMODATION(
    RESno NUMBER NOT NULL,
    ROOMno NUMBER NOT NULL,
    PRIMARY KEY(RESno,ROOMno),
    FOREIGN KEY(RESno) REFERENCES RESERVATION(RESno),
    FOREIGN KEY(ROOMno) REFERENCES ACCOMMODATION(ROOMno)
);

INSERT INTO HAS_ACCOMMODATION VALUES(1,1);

CREATE TABLE MASSEUSE(
    MESSEUSEid VARCHAR2(7) NOT NULL,
    Supervisorid VARCHAR2(7) NOT NULL,
    MASSNAME VARCHAR2(30) NOT NULL, 
    AREA VARCHAR2(20), 
    MASSPHONE VARCHAR2(13) NOT NULL,
    PRIMARY KEY (MESSEUSEid)
);

INSERT INTO MASSEUSE VALUES('MS001','SP001','MISTY','THAI','0495838620');

--LOCAT SHORT FOR LOCATION
CREATE TABLE INSIDE(
    ACTIVITYid VARCHAR2(5) NOT NULL,
    LOCAT VARCHAR2(30) NOT NULL,
    OPENINGHOURS TIMESTAMP NOT NULL, 
    PRIMARY KEY (ACTIVITYid)
);

INSERT INTO INSIDE VALUES('AT001','Level 1 indoor swimming pool','24-JUN-2023 07:00:00');

CREATE TABLE OUTDOORS(
    ACTIVITYid VARCHAR2(5) NOT NULL,
    PRIMARY KEY (ACTIVITYid) 
);

INSERT INTO OUTDOORS VALUES('AT001');

CREATE TABLE OUTDOOR_FIELD(
    INSTRUCTORid VARCHAR2(7) NOT NULL,
    Field VARCHAR2(25),
    PRIMARY KEY (INSTRUCTORid,Field),
    FOREIGN KEY (INSTRUCTORid) REFERENCES OUTDOOR_INSTRUCTOR(INSTRUCTORid)
);

INSERT INTO OUTDOOR_FIELD VALUES('IN001','CLIMBING');

CREATE TABLE OUTDOOR_INSTRUCTOR(
    INSTRUCTORid VARCHAR2(5) NOT NULL,
    Supervisorid VARCHAR2(5) NOT NULL,
    instrName VARCHAR2(30) NOT NULL, 
    instrPhone VARCHAR2(13) NOT NULL,
    Field VARCHAR2(25), 
    PRIMARY KEY (INSTRUCTORid)
);

INSERT INTO OUTDOOR_INSTRUCTOR VALUES('IN001','SP001','BROOK','0476952851','CLIMBING');

CREATE TABLE RESERVATION(
    RESno NUMBER NOT NULL,
    RESDATE DATE NOT NULL, 
    STARTDATE DATE NOT NULL, 
    NO_OF_GUESTS NUMBER(2),
    STATUS VARCHAR2(10), 
    ENDDATE DATE NOT NULL, 
    PRIMARY KEY(RESno)
);

INSERT INTO RESERVATION VALUES(1,'24-JUN-2025','27-JUN-2025',10,'ACTIVE','30-JUN-2025');


CREATE TABLE SUPERVISES(
    SUPERVISORid VARCHAR2(7) NOT NULL,
    ACTIVITYid VARCHAR2(7) NOT NULL,
    RESno NUMBER NOT NULL,
    Risklevel CHAR(1), 
    DATE_TIME DATE NOT NULL, 
    DATE_DAY DATE,
    ActRate NUMBER(2), 
    ACTName VARCHAR2(25) NOT NULL, 
    ActDescription VARCHAR2(100), 
    LOCAT VARCHAR2(30),
    PRIMARY KEY (SUPERVISORid,ACTIVITYid,RESno),
    FOREIGN KEY (ACTIVITYid) REFERENCES ACTIVITY_TABLE(ACTIVITYid), 
    FOREIGN KEY (RESno) REFERENCES RESERVATION(RESno)
);

--NOTE: LOCATION RENAME LOCAT FOR ORACLE APEX

INSERT INTO SUPERVISES VALUES('SP002','AT002',1,'H','23-MAY-2023','24-MAY-2023',99,'MOUNTAINING','Take the challenge to overcome a mountain and stand at the top to get the ultimate adventure.','NA');


CREATE TABLE SUPPLIER(
    BILLERCODE NUMBER(6),
    BUSINESSNAME VARCHAR2(30) NOT NULL,
    CONTACTPERSON VARCHAR2(30) NOT NULL,
    PHONE VARCHAR2(10) NOT NULL,
    PRIMARY KEY(BILLERCODE)
);

INSERT INTO SUPPLIER VALUES(123456,'JIMS CLIMBING','JIM','0467893657');

CREATE TABLE SUPPLIES(
    EQUIPMENTid VARCHAR2(5) NOT NULL,
    BILLERCODE NUMBER(6) NOT NULL, 
    PRIMARY KEY (EQUIPMENTid,BILLERCODE),
    FOREIGN KEY (EQUIPMENTid) REFERENCES EQUIPMENT(EQUIPMENTid), 
    FOREIGN KEY (BILLERCODE) REFERENCES SUPPLIER(BILLERCODE)
);

INSERT INTO SUPPLIES VALUES('EQ001',123456);

CREATE TABLE SWIMMING_INSTRUCTOR(
    Supervisorid VARCHAR2(7) NOT NULL,
    SWIMMERid VARCHAR2(7) NOT NULL,
    SWIMNAME VARCHAR2(30) NOT NULL,
    SWIMPHONE VARCHAR2(13) NOT NULL, 
    PRIMARY KEY (SWIMMERid)
);

INSERT INTO SWIMMING_INSTRUCTOR VALUES('SP002','SW0001','MISTY','0467893872');


